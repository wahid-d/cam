#pragma checksum "/Users/david/repos/cam/Pages/Report.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "9b4ccd4c593cf0276f5fd6871ba3a6f878d09271"
// <auto-generated/>
#pragma warning disable 1591
namespace cam.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "/Users/david/repos/cam/_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/Users/david/repos/cam/_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/Users/david/repos/cam/_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "/Users/david/repos/cam/_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "/Users/david/repos/cam/_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "/Users/david/repos/cam/_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "/Users/david/repos/cam/_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "/Users/david/repos/cam/_Imports.razor"
using cam;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "/Users/david/repos/cam/_Imports.razor"
using cam.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/Users/david/repos/cam/Pages/Report.razor"
using cam.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/Users/david/repos/cam/Pages/Report.razor"
using cam.Services;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/report/{ClassId}")]
    public partial class Report : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "section");
            __builder.AddAttribute(1, "class", true);
            __builder.AddMarkupContent(2, "\n    ");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Forms.EditForm>(3);
            __builder.AddAttribute(4, "Model", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#nullable restore
#line 10 "/Users/david/repos/cam/Pages/Report.razor"
                      reports

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(5, "OnValidSubmit", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Forms.EditContext>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Forms.EditContext>(this, 
#nullable restore
#line 10 "/Users/david/repos/cam/Pages/Report.razor"
                                              SaveReports

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(6, "class", "page-body");
            __builder.AddAttribute(7, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder2) => {
                __builder2.AddMarkupContent(8, " \n        ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.DataAnnotationsValidator>(9);
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(10, "\n        ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.ValidationSummary>(11);
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(12, "\n        ");
                __builder2.OpenElement(13, "div");
                __builder2.AddAttribute(14, "class", "table-wrapper card");
                __builder2.AddMarkupContent(15, "\n            ");
                __builder2.AddMarkupContent(16, "<label class=\"label-1\" for=\"period\">Select the period<small>*</small></label>\n            ");
                __builder2.OpenElement(17, "select");
                __builder2.AddAttribute(18, "type", "text");
                __builder2.AddAttribute(19, "id", "period");
                __builder2.AddAttribute(20, "required", true);
                __builder2.AddAttribute(21, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 15 "/Users/david/repos/cam/Pages/Report.razor"
                                                            period

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(22, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => period = __value, period));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.AddMarkupContent(23, "\n                ");
                __builder2.OpenElement(24, "option");
                __builder2.AddContent(25, "Select...");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(26, "\n                ");
                __builder2.OpenElement(27, "option");
                __builder2.AddAttribute(28, "value", 
#nullable restore
#line 17 "/Users/david/repos/cam/Pages/Report.razor"
                                String.Format("{0:MMM} {1}", DateTime.Now.AddMonths(-1), DateTime.Now.Year)

#line default
#line hidden
#nullable disable
                );
                __builder2.AddContent(29, 
#nullable restore
#line 17 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                                              DateTime.Now.AddMonths(-1).ToString("MMMM")

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(30, "\n                ");
                __builder2.OpenElement(31, "option");
                __builder2.AddAttribute(32, "value", 
#nullable restore
#line 18 "/Users/david/repos/cam/Pages/Report.razor"
                                String.Format("{0:MMM} {1}", DateTime.Now, DateTime.Now.Year)

#line default
#line hidden
#nullable disable
                );
                __builder2.AddContent(33, 
#nullable restore
#line 18 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                                DateTime.Now.ToString("MMMM")

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(34, "\n                ");
                __builder2.OpenElement(35, "option");
                __builder2.AddAttribute(36, "value", 
#nullable restore
#line 19 "/Users/david/repos/cam/Pages/Report.razor"
                                String.Format("{0:MMM} {1}", DateTime.Now.AddMonths(1), DateTime.Now.Year)

#line default
#line hidden
#nullable disable
                );
                __builder2.AddContent(37, 
#nullable restore
#line 19 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                                             DateTime.Now.AddMonths(1).ToString("MMMM")

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(38, "\n            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(39, "\n            ");
                __builder2.OpenElement(40, "table");
                __builder2.AddAttribute(41, "width", "100%");
                __builder2.AddMarkupContent(42, "\n                ");
                __builder2.OpenElement(43, "caption");
                __builder2.AddAttribute(44, "class", "title-1");
                __builder2.AddContent(45, 
#nullable restore
#line 22 "/Users/david/repos/cam/Pages/Report.razor"
                                          _class.Name

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(46, "\n                ");
                __builder2.AddMarkupContent(47, @"<thead>
                    <tr>
                        <th width=""15%"" scope=""col"">Name</th>
                        <th width=""10%"" scope=""col"">Course </th>
                        <th width=""10%"" scope=""col"">Grammar</th>
                        <th width=""10%"" scope=""col"">ELT Score</th>
                        <th width=""25%"" scope=""col"">Comment</th>
                    </tr>
                </thead>
                ");
                __builder2.OpenElement(48, "tbody");
                __builder2.AddMarkupContent(49, "\n");
#nullable restore
#line 33 "/Users/david/repos/cam/Pages/Report.razor"
                     for(int i = 0; i < reports.Count; i++)
                    {

                        var iCopy = i;

#line default
#line hidden
#nullable disable
                __builder2.AddContent(50, "                        ");
                __builder2.OpenElement(51, "tr");
                __builder2.AddMarkupContent(52, "\n                            ");
                __builder2.OpenElement(53, "td");
                __builder2.AddAttribute(54, "data-label", 
#nullable restore
#line 38 "/Users/david/repos/cam/Pages/Report.razor"
                                             students[i].EnglishName

#line default
#line hidden
#nullable disable
                );
                __builder2.AddContent(55, 
#nullable restore
#line 38 "/Users/david/repos/cam/Pages/Report.razor"
                                                                       students[i].EnglishName

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(56, "\n                            ");
                __builder2.OpenElement(57, "td");
                __builder2.AddAttribute(58, "data-label", (
#nullable restore
#line 39 "/Users/david/repos/cam/Pages/Report.razor"
                                             students[i].EnglishName

#line default
#line hidden
#nullable disable
                ) + "-" + (
#nullable restore
#line 39 "/Users/david/repos/cam/Pages/Report.razor"
                                                                      _class.CourseBook

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddMarkupContent(59, "\n                                \n                                ");
                __builder2.OpenElement(60, "input");
                __builder2.AddAttribute(61, "type", "numeric");
                __builder2.AddAttribute(62, "id", (
#nullable restore
#line 41 "/Users/david/repos/cam/Pages/Report.razor"
                                                           students[i].EnglishName

#line default
#line hidden
#nullable disable
                ) + "-" + (
#nullable restore
#line 41 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                    _class.CourseBook

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(63, "required", true);
                __builder2.AddAttribute(64, "value", 
#nullable restore
#line 41 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                                                        reports[i].CourseScore

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(65, "max", "100");
                __builder2.AddAttribute(66, "min", "0");
                __builder2.AddAttribute(67, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 42 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                                                             e => reports[iCopy].CourseScore = Int32.Parse(e.Value.ToString())

#line default
#line hidden
#nullable disable
                ));
                __builder2.CloseElement();
                __builder2.AddMarkupContent(68, "\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(69, "\n                            ");
                __builder2.OpenElement(70, "td");
                __builder2.AddAttribute(71, "data-label", (
#nullable restore
#line 44 "/Users/david/repos/cam/Pages/Report.razor"
                                             students[i].EnglishName

#line default
#line hidden
#nullable disable
                ) + "-" + (
#nullable restore
#line 44 "/Users/david/repos/cam/Pages/Report.razor"
                                                                      _class.GrammarBook

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddMarkupContent(72, "\n                                ");
                __builder2.OpenElement(73, "input");
                __builder2.AddAttribute(74, "type", "numeric");
                __builder2.AddAttribute(75, "id", (
#nullable restore
#line 45 "/Users/david/repos/cam/Pages/Report.razor"
                                                           students[i].EnglishName

#line default
#line hidden
#nullable disable
                ) + "-" + (
#nullable restore
#line 45 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                    _class.GrammarBook

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(76, "required", true);
                __builder2.AddAttribute(77, "value", 
#nullable restore
#line 45 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                                                         reports[i].GrammarScore

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(78, "max", "100");
                __builder2.AddAttribute(79, "min", "0");
                __builder2.AddAttribute(80, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 46 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                                                             e => reports[iCopy].GrammarScore = Int32.Parse(e.Value.ToString())

#line default
#line hidden
#nullable disable
                ));
                __builder2.CloseElement();
                __builder2.AddMarkupContent(81, "\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(82, "\n                            ");
                __builder2.OpenElement(83, "td");
                __builder2.AddAttribute(84, "data-label", (
#nullable restore
#line 48 "/Users/david/repos/cam/Pages/Report.razor"
                                             students[i].EnglishName

#line default
#line hidden
#nullable disable
                ) + "-Elt");
                __builder2.AddMarkupContent(85, "\n                                ");
                __builder2.OpenElement(86, "input");
                __builder2.AddAttribute(87, "type", "numeric");
                __builder2.AddAttribute(88, "id", (
#nullable restore
#line 49 "/Users/david/repos/cam/Pages/Report.razor"
                                                           students[i].EnglishName

#line default
#line hidden
#nullable disable
                ) + "-Elt");
                __builder2.AddAttribute(89, "required", true);
                __builder2.AddAttribute(90, "value", 
#nullable restore
#line 49 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                                         reports[i].EltScore

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(91, "max", "100");
                __builder2.AddAttribute(92, "min", "0");
                __builder2.AddAttribute(93, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 50 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                                                 e => reports[iCopy].EltScore = Int32.Parse(e.Value.ToString())

#line default
#line hidden
#nullable disable
                ));
                __builder2.CloseElement();
                __builder2.AddMarkupContent(94, "\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(95, "\n                            ");
                __builder2.OpenElement(96, "td");
                __builder2.AddAttribute(97, "data-label", (
#nullable restore
#line 52 "/Users/david/repos/cam/Pages/Report.razor"
                                             students[i].EnglishName

#line default
#line hidden
#nullable disable
                ) + "-comment");
                __builder2.AddMarkupContent(98, "\n                                ");
                __builder2.OpenElement(99, "textarea");
                __builder2.AddAttribute(100, "class", "textarea-comment");
                __builder2.AddAttribute(101, "rows", "3");
                __builder2.AddAttribute(102, "id", (
#nullable restore
#line 53 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                 students[i].EnglishName

#line default
#line hidden
#nullable disable
                ) + "-comment");
                __builder2.AddAttribute(103, "value", 
#nullable restore
#line 53 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                                                          reports[i].Comment

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(104, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 54 "/Users/david/repos/cam/Pages/Report.razor"
                                                                                                                                 e => reports[iCopy].Comment = e.Value.ToString()

#line default
#line hidden
#nullable disable
                ));
                __builder2.CloseElement();
                __builder2.AddMarkupContent(105, "\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(106, "\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(107, "\n");
#nullable restore
#line 57 "/Users/david/repos/cam/Pages/Report.razor"
                        reports[i].StudentId = students[i].Id;
                        reports[i].Period = period;
                    }

#line default
#line hidden
#nullable disable
                __builder2.AddContent(108, "                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(109, "\n            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(110, "\n            ");
                __builder2.AddMarkupContent(111, "<button type=\"submit\" class=\"submit-btn\">\n                Generate Reports\n            </button>\n        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(112, "\n    ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(113, "\n");
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 71 "/Users/david/repos/cam/Pages/Report.razor"
      

    [Parameter]
    public string ClassId { get; set; }

    string period = "June 2020";

    Class _class = new Class();

    List<Models.Report> reports = new List<Models.Report>();

    List<Student> students = new List<Student>();

    protected override async Task OnInitializedAsync()
    {
        _class = await classRepo.Get(ClassId);
        StateHasChanged();
        students = (await studentRepo.Get()).Where(s=>s.ClassId == ClassId).ToList();
        reports.AddRange(Enumerable.Repeat(new Models.Report(), students.Count));
        StateHasChanged();
    }

    async void SaveReports()
    {
        await reportRepo.InsertMany(reports);
        NavigationManager.NavigateTo("/reports");
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IReportService reportRepo { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IStudentService studentRepo { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IClassService classRepo { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavigationManager { get; set; }
    }
}
#pragma warning restore 1591
